<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Valentine's Surprise</title>
  <style>
    body {
      font-family: 'Comic Sans MS', cursive, sans-serif;
      text-align: center;
      background: url('background.jpg') no-repeat center center fixed;
      background-size: cover;
      color: red;
    }
    button {
      background-color: #fc82de;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      margin: 10px;
      transition: background-color 0.3s, transform 0.3s;
    }
    button:hover {
      background-color: #ffb6c1;
      transform: scale(1.1);
    }
    #funnyQuestion {
      cursor: pointer;
      color: purple;
      font-size: 24px;
    }
    #cuteImage {
      display: none;
      width: 300px;
      margin-top: 20px;
    }
    #yesButton {
      background-color: #fc82de;
    }
    #noButton {
      background-color: #fc82de;
    }
    #qnaGame {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: rgba(255, 255, 255, 0.8);
      border: 1px solid #ccc;
      padding: 20px;
      border-radius: 10px;
      width: 300px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
    #qnaGame h3 {
      margin-top: 0;
    }
    #qnaGame ul {
      list-style: none;
      padding: 0;
    }
    #qnaGame li {
      margin-bottom: 10px;
    }
    #qnaGame button {
      width: 100%;
      margin-top: 10px;
    }
    #musicControls {
      position: fixed;
      top: 20px;
      left: 20px;
      background-color: rgba(255, 255, 255, 0.8);
      border: 1px solid #ccc;
      padding: 20px;
      border-radius: 10px;
      width: 300px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    #musicControls button {
      width: 100px;
      margin: 5px;
    }
    #announcement {
      position: fixed;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      display: none;
      font-size: 18px;
    }
    #popupGif {
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: rgba(255, 255, 255, 0.9);
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      display: none;
    }
    #popupGif img {
      max-width: 100%;
      border-radius: 10px;
    }
    #popupGif button {
      width: 100px;
      margin-top: 10px;
    }
    #popupGif p {
      margin-top: 10px;
    }
    #explanation {
      position: fixed;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      display: none;
      font-size: 18px;
    }
  </style>
</head>
<body>
  <h1>Happy Valentine's Day, <span id="crushName">[Her Name]</span>!</h1>

  <audio id="backgroundMusic" autoplay loop>
    <source src="mo.mp3" type="audio/mpeg">
    Your browser does not support the audio element.
  </audio>

  <button onclick="showImage('image1.jpg')">Click for a Surprise!</button>
  <button onclick="showImage('image2.jpg')">Another Surprise!</button>

  <img id="cuteImage" src="" alt="Cute Image">

  <h2 id="funnyQuestion" style="position: absolute;">Will you be my Valentine?</h2>
  <button id="yesButton" onclick="acceptProposal()">Yes</button>
  <button id="noButton" onclick="declineProposal()">No</button>

  <div id="qnaGame">
    <h3>Mini Q&A Game</h3>
    <div id="questionContainer"></div>
    <button id="startGameButton" onclick="startQnAGame()">Start Game</button>
  </div>

  <div id="musicControls">
    <h3>Music Playlist</h3>
    <button onclick="previousSong()">Previous</button>
    <button onclick="playPauseMusic()">Play/Pause</button>
    <button onclick="nextSong()">Next</button>
  </div>

  <div id="announcement"></div>
  <div id="explanation"></div>

  <div id="popupGif">
    <img id="gifImg" src="" alt="GIF">
    <p id="gifMessage"></p>
    <button id="opt1Button" onclick="showNextGif('gif2.gif', 'Do you want to know more?')">Opt 1</button>
    <button id="opt2Button" onclick="showNextGif('gif3.gif', 'Are you curious?')">Opt 2</button>
  </div>

  <script>
    const question = document.getElementById('funnyQuestion');
    const yesButton = document.getElementById('yesButton');
    const noButton = document.getElementById('noButton');
    const questionContainer = document.getElementById('questionContainer');
    const startGameButton = document.getElementById('startGameButton');
    const backgroundMusic = document.getElementById('backgroundMusic');
    const announcement = document.getElementById('announcement');
    const explanation = document.getElementById('explanation');
    const popupGif = document.getElementById('popupGif');
    const gifImg = document.getElementById('gifImg');
    const gifMessage = document.getElementById('gifMessage');
    let yesButtonSize = 20;
    let currentQuestionIndex = 0;
    let isPlaying = true;
    let explanationShown = false;
    let noCount = 0;

    const songs = ['mo.mp3', 'song2.mp3', 'song3.mp3', 'song4.mp3'];
    let currentSongIndex = 0;

    const qnaData = [
      { question: "Tao th√≠ch m√†u g√¨?", choices: ["X√°m", "#ffd1dc", "ƒê·ªè", "Xanh d∆∞∆°ng"], answer: "#ffd1dc", prize: "c√¢u 2 ;)", explanation: "Tao th√≠ch m√†u h·ªìng pastel!" },
      { question: "Tao n√≥i r·∫±ng tao c√≥ m·∫•y nh√¢n c√°ch?", choices: ["3", "1", "2", "9"], answer: "2", prize: "*·ªúmmm* c√¢u 3 ƒëi ch·ª© c√≤n g√¨ n·ªØa.", explanation: "Tao ƒë√£ n√≥i r·∫±ng tao c√≥ 2 nh√¢n c√°ch." },
      { question: "T·∫°i sao tao l·∫°i v√¥ t√¢m?", choices: ["l∆∞·ªùi", "l∆∞·ªùii nh∆∞ng m√† c√≥ 2 ch·ªØ i", "lu...(qu√° l∆∞·ªùi ƒë·ªÉ vi·∫øt h·∫øt ch·ªØ 'l∆∞·ªùi')", ""], answer: "", prize: " bi·∫øt th√™m v·ªÅ tao(n·∫øu mu·ªën), next c√¢u ƒëi...", explanation: "Tao v√¥ t√¢m v√¨ tao l∆∞·ªùi." },
      { question: "C√≥ nh·ªõ l√† tao n√≥i r·∫±ng tao t·ª´ng ·∫•n t∆∞·ª£ng ·ªü m√†y ƒëi·ªÅu g√¨ kh√¥ng?", choices: ["m√†y xinh", "tr√¥ng kh√¥ng d·ªÖ ƒëo√°n nh∆∞ m·ªçi ng∆∞·ªùi nghƒ©", "v√¨ tao th√≠ch", "ch·∫Øc c√≥ m·∫•y c√°i kia th√¥i ch·ª© tao c≈©ng ch·∫£ bit b·ªãa ƒë√°p √°n g√¨ n·ª±a"], answer: "ch·∫Øc c√≥ m·∫•y c√°i kia th√¥i ch·ª© tao c≈©ng ch·∫£ bit b·ªãa ƒë√°p √°n g√¨ n·ª±a", prize: " th·∫•y tao m·ªói ng√†y, th√≠ch th√¨ nh√≠ch c√¢u 5 ƒëi", explanation: "Tao ·∫•n t∆∞·ª£ng ·ªü m√†y v√¨ tr√¥ng m√†y kh√¥ng d·ªÖ ƒëo√°n nh∆∞ m·ªçi ng∆∞·ªùi nghƒ©." },
      { question: "Tao t·ª´ng b·∫£o tao gh√©t ƒÉn g√¨?", choices: ["n∆∞·ªõc m·∫Øm nh√† Ni√™m", "b√∫n (y)", "m√†y", "*l∆∞·ªùi qu√° cho vi·∫øt t·∫°m nh∆∞ n√†y nha*"], answer: "b√∫n (y)", prize: " n√≥i chuy·ªán v·ªõi tao m·ªói khi m√†y mu·ªën, th·∫•y keng r·ªìi th√¨ chuy·ªÉn c√¢u 6 ƒë√™. ", explanation: "Tao gh√©t ƒÉn b√∫n." },
      { question: "ƒê·ªë nh·ªõ tao l√†m website n√†y ·ªü nh√¢n c√°ch n√†o?", choices: ["h√¢m", "ƒëang h√¢m", "t·ª´ng h√¢m", "s·∫Øp h√¢m"], answer: "h√¢m", prize: " tao l√†m phi·ªÅn m·ªói ng√†y, nhi·ªÖu r·ªìi ƒë√¢yyyy.", explanation: "Tao l√†m website n√†y ·ªü nh√¢n c√°ch h√¢m." },
      { question: "ƒêo√°n xem tao ƒëang nghƒ© g√¨ khi g·ª≠i cho m√†y c√°i n√†y?", choices: ["mong n√≥ hi·ªÉu m·∫•y c√°i m√¨nh vi·∫øt trong l√†y", "ng·ªß", "th√°o n√£o", "nh·ªõ c√¥ ·∫•y(kh√¥ng bi·∫øt ph·∫£i m√†y kh√¥ng)"], answer: "nh·ªõ c√¥ ·∫•y(kh√¥ng bi·∫øt ph·∫£i m√†y kh√¥ng)", prize: "c-c√°i ƒë√≥ √°, th√™m c√¢u n·ªØa ƒëi b·∫≠t m√≠ cho ;)", explanation: "Tao ƒëang nh·ªõ c√¥ ·∫•y (kh√¥ng bi·∫øt ph·∫£i m√†y kh√¥ng)." },
      { question: "S·ªü th√≠ch c·ªßa tao(kh√≥: t·ªâ l·ªá ƒëo√°n tr√∫ng ch·ªâ c√≥ 25%)?", choices: ["m·ªôt m√¨nh", "m·ªôt m√¨nh nh∆∞ng b√™n 1 ng∆∞·ªùi n·ªØa(ai ·∫•y nh·ªâ)", "th√≠ch g√¨ c≈©ng ƒë∆∞·ª£c mi·ªÖn h·∫øt ch√°n", "l∆∞·ªùi n√™n ƒë√©o th√≠ch l√†m g√¨ h·∫øt (y)"], answer: "l∆∞·ªùi n√™n ƒë√©o th√≠ch l√†m g√¨ h·∫øt (y)", prize: "ng∆∞·ªùi quan t√¢m b·∫°n h∆°n b√¨nh th∆∞·ªùng, h∆°n n·ªØa l√†...", explanation: "Tao l∆∞·ªùi n√™n ƒë√©o th√≠ch l√†m g√¨ h·∫øt (y)." },
      { question: "(C√¢u n√†y ƒë·ªÉ tr·ªëng ƒë·ª£i ng∆∞·ªùi ƒë√≥ vi·∫øt ti·∫øp)?", choices: ["ƒë√°p √°n s·ªë 1", "ƒë√°p √°n s·ªë 2(nh·ªõ vi·∫øt kh√≥ v√†o nh√©)", "ƒë√°p √°n s·ªë 3(d·ªÖ tatchofat)", "..."], answer: "...", prize: "...", explanation: "C√¢u n√†y ƒë·ªÉ tr·ªëng ƒë·ª£i ng∆∞·ªùi ƒë√≥ vi·∫øt ti·∫øp." }
    ];

    const wrongAnswerMessages = [
            "X√°m l√† tao m√†aa, sao tao th√≠ch tao ƒë∆∞·ª£c", "", "ƒê·ªè l√† c·ªßa quang anh m√†, nh·ªõ ki·ªÉu g√¨ oyy", "ch∆∞a t·ª´ng nghe qua m√†u n√†y lu√¥n", "3 h∆°i nhi·ªÅu qu√°, kh√¥ng vi·ªán ki·ªÉm so√°t ƒë∆∞·ª£c", "1 l√† ai?", "", "kh√¥ng ph·∫£i l√∫c n√†o c≈©ng l√† s·ªë 9 ƒë√¢u tr·ªùi", "l∆∞·ªùi m√† vi·∫øt ƒë∆∞·ª£c ch·ªØ l∆∞·ªùi y nguy√™n th√¨ khoq ph·∫£i tao", "2 ch·ªØ i th·ª´a ·ªùi", "(qu√° l∆∞·ªùi ƒë·ªÉ gi·∫£i th√≠ch t·∫°i sao c√¢u n√†y sai)", "", "bi·∫øt zoiii", "d·ªÖ m√† ta", "ch·∫Øc kh√¥ng?", "", "TH·ªêI VL B·ªê TH·ªÄ", "", "tu·ª≥ l√∫c", "luoi", "", "ƒë√¢u ra z", "ch∆∞a ch·∫Øc ƒë√¢u", "kh√¥ng...bi·∫øt", "v·∫´n ƒë bit m√†y c√≥ hi·ªÉu khoq", "kho√† kho√†", "thi tho·∫£ng th√¥i"
    , "mminh vui(nh∆∞ng m√† c≈©ng c√≥ l√∫c bu·ªìn m√†)", "ai ·∫•y nh·ªâ, nh·ªõ ra ƒë∆∞·ª£c th√¨ ƒë√¢y l√† ƒë√°p √°n ƒë√∫ng", "c√≥ l√∫c n√†o ch√°n ƒë√¢u tr·ªùiiii", "", "m·ª•t", "haiiii", "bar", ""];

    question.addEventListener('mouseover', () => {
      const x = Math.random() * (window.innerWidth - question.offsetWidth);
      const y = Math.random() * (window.innerHeight - question.offsetHeight);
      question.style.left = `${x}px`;
      question.style.top = `${y}px`;
    });

    question.addEventListener('click', () => {
      showAnnouncement('Tao bi·∫øt ngay m√† haizzz');
    });

    function showImage(imageSrc) {
      const imgElement = document.getElementById('cuteImage');
      imgElement.src = imageSrc;
      imgElement.style.display = 'block';
    }

    function acceptProposal() {
      showAnnouncement('M√†y nghƒ© l√† tao cho ch·∫Øc(c√≥ khi ai bi·∫øt, kh√°m ph√° h·∫øt website n√†y ƒëi üòâ)');
    }

    function declineProposal() {
      yesButtonSize += 10;
      yesButton.style.padding = `${yesButtonSize}px`;
      yesButton.style.transform = `scale(${yesButtonSize / 20})`;
      const x = Math.random() * (window.innerWidth - yesButton.offsetWidth);
      const y = Math.random() * (window.innerHeight - yesButton.offsetHeight);
      yesButton.style.position = 'absolute';
      yesButton.style.left = `${x}px`;
      yesButton.style.top = `${y}px`;
    }

    function startQnAGame() {
      startGameButton.style.display = 'none';
      currentQuestionIndex = 0;
      showNextQuestion();
    }

    function showNextQuestion() {
      if (currentQuestionIndex >= qnaData.length) {
        showAnnouncement("Congratulations! You've answered all the questions!");
        setTimeout(() => {
          showPopupGif('congrats.gif', "M√†y c√≥ mu·ªën bi·∫øt suy nghƒ© c·ªßa anh ta(tao) v·ªÅ m√†y kh√¥ng? (VERY DANGEROUS)");
        }, 3000);
        return;
      }

      const qna = qnaData[currentQuestionIndex];
      questionContainer.innerHTML = `<strong>Q${currentQuestionIndex + 1}:</strong> ${qna.question} <br>` +
                                    qna.choices.map((choice, index) => 
                                      `<input type="radio" name="q${currentQuestionIndex}" value="${choice}" data-wrong-message="${wrongAnswerMessages[currentQuestionIndex * 3 + index]}"> ${choice}<br>`
                                    ).join('') +
                                    `<button onclick="checkAnswer()">Submit</button>`;
    }

    function checkAnswer() {
      const selectedAnswer = document.querySelector(`input[name="q${currentQuestionIndex}"]:checked`);
      if (selectedAnswer && selectedAnswer.value === qnaData[currentQuestionIndex].answer) {
        showAnnouncement(`Correct! You win: ${qnaData[currentQuestionIndex].prize}`);
        showExplanation(qnaData[currentQuestionIndex].explanation);
      } else if (selectedAnswer) {
        const wrongMessage = selectedAnswer.getAttribute('data-wrong-message');
        showAnnouncement(wrongMessage);
      }
    }

    function showExplanation(explanationText) {
      explanation.innerHTML = `M√†y c√≥ mu·ªën bi·∫øt t·∫°i sao c√¢u ƒë√≥ l·∫°i c√≥ ƒë√°p √°n v·∫≠y kh√¥nggggg?<br><button onclick="confirmExplanation('${explanationText}')">C√≥</button> <button onclick="denyExplanation()">Kh√¥ng</button>`;
      explanation.style.display = 'block';
    }

    function confirmExplanation(explanationText) {
      explanation.innerHTML = explanationText;
      setTimeout(() => {
        explanation.style.display = 'none';
        currentQuestionIndex++;
        showNextQuestion();
      }, 3000);
    }

    function denyExplanation() {
      noCount++;
      if (noCount > 2) {
        explanation.innerHTML = "M√†y ph·∫£i bi·∫øt m·ªõi cho ƒëi ti·∫øp c∆° ∆†";
        setTimeout(() => {
          noCount = 0;
          confirmExplanation(qnaData[currentQuestionIndex].explanation);
        }, 3000);
      } else {
        explanation.innerHTML = "M√†y mu·ªën bi·∫øt m√† ph·∫£i kh√¥ng";
        setTimeout(showExplanation.bind(null, qnaData[currentQuestionIndex].explanation), 3000);
      }
    }

    function playPauseMusic() {
      if (isPlaying) {
        backgroundMusic.pause();
      } else {
        backgroundMusic.play();
      }
      isPlaying = !isPlaying;
    }

    function nextSong() {
      currentSongIndex = (currentSongIndex + 1) % songs.length;
      backgroundMusic.src = songs[currentSongIndex];
      backgroundMusic.play();
      isPlaying = true;
    }

    function previousSong() {
      currentSongIndex = (currentSongIndex - 1 + songs.length) % songs.length;
      backgroundMusic.src = songs[currentSongIndex];
      backgroundMusic.play();
      isPlaying = true;
    }

    function showAnnouncement(message) {
      announcement.textContent = message;
      announcement.style.display = 'block';
      setTimeout(() => {
        announcement.style.display = 'none';
      }, 3000);
    }

    function showPopupGif(gifSrc, message) {
      gifImg.src = gifSrc;
      gifMessage.textContent = message;
      popupGif.style.display = 'block';
    }

    function showNextGif(gifSrc, message) {
      gifImg.src = gifSrc;
      gifMessage.textContent = message;
    }
  </script>
</body>
</html>
